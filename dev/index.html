<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Introduction · Plugins.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script><link href="assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href><img src="assets/logo.png" alt="Plugins.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit">Plugins.jl</span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Introduction</a><ul class="internal"><li><a class="tocitem" href="#Plugins.jl-highlights"><span>Plugins.jl highlights</span></a></li><li><a class="tocitem" href="#What-plugins-are-in-general?"><span>What plugins are in general?</span></a></li><li><a class="tocitem" href="#The-performance-problem"><span>The performance problem</span></a></li><li><a class="tocitem" href="#Plugin-based-architecture-with-Plugins.jl"><span>Plugin-based architecture with Plugins.jl</span></a></li></ul></li><li><a class="tocitem" href="gettingstarted/">Getting Started</a></li><li><a class="tocitem" href="guide/">Guide</a></li><li><a class="tocitem" href="repo/">Repo</a></li><li><a class="tocitem" href="reference/">Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Introduction</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Introduction</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/tisztamo/Plugins.jl/blob/master/docs/src/index.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Introduction"><a class="docs-heading-anchor" href="#Introduction">Introduction</a><a id="Introduction-1"></a><a class="docs-heading-anchor-permalink" href="#Introduction" title="Permalink"></a></h1><h2 id="Plugins.jl-highlights"><a class="docs-heading-anchor" href="#Plugins.jl-highlights">Plugins.jl highlights</a><a id="Plugins.jl-highlights-1"></a><a class="docs-heading-anchor-permalink" href="#Plugins.jl-highlights" title="Permalink"></a></h2><ul><li>Helps implementing the popular &quot;extensions&quot; architectural pattern.</li><li>Zero Cost Abstraction: Plugin code is inlinable. You&#39;ve read it right: <em>inlinable</em>.</li><li>Allows maintainable metaprogramming in a controlled way that prevents meta code from taking over your codebase.</li></ul><h2 id="What-plugins-are-in-general?"><a class="docs-heading-anchor" href="#What-plugins-are-in-general?">What plugins are in general?</a><a id="What-plugins-are-in-general?-1"></a><a class="docs-heading-anchor-permalink" href="#What-plugins-are-in-general?" title="Permalink"></a></h2><p>Feel free to skip this section if you know the answer.</p><p>A plugin is a chunk of code that extends the functionality of a system. It is not usable in itself, it has to be &quot;plugged&quot; into a system where it reacts to events and works together with other plugins. Plugins are sometimes called &quot;extensions&quot;, and they can be found everywhere: from IDEs to browsers, from music software to operating systems.</p><p>A software built with plugins is like a kitchen where different devices work together to help you. When you want to drink some tea, you will need a cup so that you can boil water in the microwave. If you drink a lot of tea, you may buy and plug in a kettle, beacuse that is better for boiling water. A good cup can work together with both the micro and the kettle, and you don&#39;t have to throw out your micro, you can still warm up your food with it.</p><p>Now, abstractions in programming can do something like this: to help replacing implementations by separating interface from implementation.</p><p>Plugins provide the highest level abstraction layer of a system. This level is ideally so flexible that the user can easily replace parts of the system without programming, maybe even at runtime. You install a plugin and it just works.</p><h2 id="The-performance-problem"><a class="docs-heading-anchor" href="#The-performance-problem">The performance problem</a><a id="The-performance-problem-1"></a><a class="docs-heading-anchor-permalink" href="#The-performance-problem" title="Permalink"></a></h2><p>The plugin-based architecture is a popular way to develop maintainable and extensible software, but its dynamic nature introduces a performance penalty that is not always acceptable. You tipically cannot hook into performance-critical points.</p><p>Plugins.jl helps by analyzing the plugins loaded into the system and generating efficient, statically dispatched event handling code, thus allowing full optimization.</p><p>With Plugins.jl, execution of plugin code can be just as performant as a manually composed system. <em>Inlinable hook implementations will be merged into a single function body, and non-implementing plugins are skipped with zero overhead.</em></p><h2 id="Plugin-based-architecture-with-Plugins.jl"><a class="docs-heading-anchor" href="#Plugin-based-architecture-with-Plugins.jl">Plugin-based architecture with Plugins.jl</a><a id="Plugin-based-architecture-with-Plugins.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Plugin-based-architecture-with-Plugins.jl" title="Permalink"></a></h2><h4 id="Good-work-starts-with-an-outline"><a class="docs-heading-anchor" href="#Good-work-starts-with-an-outline">Good work starts with an outline</a><a id="Good-work-starts-with-an-outline-1"></a><a class="docs-heading-anchor-permalink" href="#Good-work-starts-with-an-outline" title="Permalink"></a></h4><p>When using Plugins.jl, you split your system into two separated code domains: The <em>base</em> outlines the work to be done, and <em>plugins</em> fill out this outline with implementations. This pattern is widely used among large Julia packages<sup class="footnote-reference"><a id="citeref-pkgsplit" href="#footnote-pkgsplit">[pkgsplit]</a></sup>, because it helps coordinating developer work in a distributed fashion.</p><p>Plugins.jl extends this pattern with a coordination mechanism that allows multiple plugins to work together on the same task. This helps composing the system out of smaller, optional chunks, and also makes it easy to implement dynamic features like value-based message routing (aka dispatch on value) efficiently.</p><p>The coordination mechanism is very similar to how DOM event handlers work.</p><h4 id="Hooks"><a class="docs-heading-anchor" href="#Hooks">Hooks</a><a id="Hooks-1"></a><a class="docs-heading-anchor-permalink" href="#Hooks" title="Permalink"></a></h4><p>A plugin implements so-called hooks: functions that the system will call at specific points of its inner life. You can think of hooks as they were event handlers, where the event source is the &quot;base system&quot;.</p><p>The system is configured with an array of plugins. If multiple plugins implement the same hook, they will be called in their order, with any plugin able to halt the processing by simply returning <code>true</code>.</p><p>Plugins can have their own state, but they can also access a shared state/configuration, and they can publish an API for other plugins to use.</p><h4 id="Maintainable-metaprogramming"><a class="docs-heading-anchor" href="#Maintainable-metaprogramming">Maintainable metaprogramming</a><a id="Maintainable-metaprogramming-1"></a><a class="docs-heading-anchor-permalink" href="#Maintainable-metaprogramming" title="Permalink"></a></h4><p>Additionally and optionally, the base system can define so-called assembled types. These are composite types that plugins will jointly assemble with every plugin allowed to delegate a single field.</p><p>This can help you with performance optimizations that normally would need <code>@generated</code> functions or other metaprograming. For example in the <a href="https://github.com/Circo-dev/CircoCore.jl/blob/0cedbb05b94a9e5ae8954d512afcf764bc8e400b/src/space.jl#L95">CircoCore.jl</a> actor system (the reference application of Plugins.jl), plugins can extend the message type with data used to optimize routing. This is implemented with zero runtime cost, and without any metaprogramming in the plugin itself.</p><section class="footnotes is-size-7"><ul><li class="footnote" id="footnote-pkgsplit"><a class="tag is-link" href="#citeref-pkgsplit">pkgsplit</a>For example: Rackauckas, Chris &amp; Nie, Qing. (2017). <a href="https://www.researchgate.net/publication/317162482_DifferentialEquationsjl_-_A_Performant_and_Feature-Rich_Ecosystem_for_Solving_Differential_Equations_in_Julia">DifferentialEquations.jl – A Performant and Feature-Rich Ecosystem for Solving Differential Equations in Julia.</a> Journal of Open Research Software. 5. 10.5334/jors.151.</li></ul></section></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="gettingstarted/">Getting Started »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 8 February 2021 16:22">Monday 8 February 2021</span>. Using Julia version 1.3.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
